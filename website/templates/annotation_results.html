{% extends "main.html" %}
{% block content %}
{% include "header.html" %}

<style>
table {
    width:100%;
}
table, th, td {
    border: 1px solid black;
    border-collapse: collapse;
}
th, td {
    padding: 5px;
    text-align: left;
}
table#t01 tr:nth-child(odd) {
    background-color: #eee;
}
table#t01 tr:nth-child(even) {
   background-color:#fff;
}
table#t01 th   {
    background-color: black;
    color: white;
}
</style>

	<div class="mdl-layout mdl-layout--fixed-header mdl-js-layout mdl-color--grey-100">	
		<main class="mdl-layout__content">

			<div class="mdl-grid">
         		<div class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"></div>
         		<div class="demo-content mdl-color--white mdl-shadow--4dp content mdl-color-text--grey-800 mdl-cell mdl-cell--8-col">

         		<div>
         			<h3>Annotation Results</h3>
         				<h4>Input: {{ws_input}}</h4>
         				<hr>
                     <table id="t01">
                        <tr>
                           <th> Keypath </th>
                           <th> Mapped Resource </th>
                        </tr>
         				  {% for key, value in demo_output.iteritems() %}
            			   <tr>
                           <td> {{ key }} </td> 
                           <!-- {% if value != 'None' %}
                            <td> <a href="http://www.ebi.ac.uk/miriam/main/collections/{{value}}" target="_blank"> {{ value }} </a></td>
                            {% else %}
                            <td>{{ value }} </td> 
                            {% endif %} -->

                            <!-- TODO: value now might be list of dictionaries -->
                            <td>
                            {% if value is string %}
                                <a href="http://www.ebi.ac.uk/miriam/main/collections/{{value}}"     target="_blank">
                                    {{ value }}
                                </a>
                            {% else %}
                                <select>
                                    <option selected="true" disabled>Select resource</option>
                                    <option value="none">No Mapping</option>       
                                    {% for v in value %}
                                        {% for vk, vv in v.iteritems() %}
                                            <option value="{{vv}}">
                                                <a href="http://www.ebi.ac.uk/miriam/main/collections/{{vk}}" target="_blank">{{ vv }} </a>
                                            </option>
                                        {% endfor %}
                                    {% endfor %}
                                </select>                           
                            {% endif %}
                            </td>
                        </tr>
                        {% endfor %}
                     </table>
         		</div>		
				
				</div>
			</div>
		</main>
	</div>
{% endblock %}
